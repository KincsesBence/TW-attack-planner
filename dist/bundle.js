/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var n={"./src/core/Api.tsx":(n,t,e)=>{e.r(t),e.d(t,{addPlan:()=>_,findPlan:()=>y,getAllPlayer:()=>h,getAllVillages:()=>u,getServerConifg:()=>p,getUnitConfig:()=>g,loadPages:()=>w,loadPlans:()=>x,removePlan:()=>V,updatePlan:()=>k});var a=e("./src/core/VillageModel.tsx"),i=e("./src/core/xml2json.ts");const l="https://"+window.location.hostname,o=game_data,r="/map/village.txt",s="/map/player.txt",d="/interface.php?func=get_unit_info",c="/interface.php?func=get_config";async function p(){let n=await $.ajax({url:l+c});return JSON.parse((0,i.xml2json)(n,"")).config}async function g(){let n=await $.ajax({url:l+d});return JSON.parse((0,i.xml2json)(n,"")).config}async function u(){let n=await $.ajax({url:l+r});n=n.trim();let t=[],e=n.split("\n");for(let n=0;n<e.length;n++){let a=e[n].split(",");t.push({id:parseInt(a[0]),name:decodeURIComponent(a[1]).replaceAll("+"," "),owner:parseInt(a[4]),coord:{text:a[2]+"|"+a[3],x:parseInt(a[2]),y:parseInt(a[3])},popRemain:null,unitsContain:null,popSize:null})}return t}async function h(){let n=await $.ajax({url:l+s});n=n.trim();let t=[],e=n.split("\n");for(let n=0;n<e.length;n++){let a=e[n].split(",");t.push({id:parseInt(a[0]),name:decodeURIComponent(a[1]).replaceAll("+"," "),allyId:parseInt(a[2]),villageCnt:parseInt(a[3]),pionts:parseInt(a[4]),rank:parseInt(a[5])})}return t}function m(n=1,t=0){return`/game.php?${0!=o.player.sitter?"t="+o.player.id+"&":""}village=${o.village.id}&group=${t}&page=${n}&screen=overview_villages&mode=combined`}async function w(n=0,t=0){console.log(t);let e=[],a=await $.ajax({url:m(0,t)}),{groups:i,pageCnt:l}=function(n){let t=[];$(n).find(".group-menu-item").get().forEach((n=>{t.push({text:$(n).text().trim().slice(1,-1),value:parseInt($(n).attr("data-group-id"))})}));let e=$($(n).find(".paged-nav-item").get()[0]).parent().find("select"),a=0;return a=1==e.length?e.find("option").length-1:$(n).find(".paged-nav-item").length,{groups:t,pageCnt:a}}(a);e.push(...await b(a)),l>0&&window.top.UI.InfoMessage(`Falvak betöltése 1/${l}`);var o=[];for(let n=1;n<l;n++)o.push(v(m(n,t),n));return await Promise.allSettled(o).then((n=>n.forEach((async n=>{e.push(...n.value)})))),{groups:i,villages:e}}function v(n,t){return new Promise((async(e,a)=>{setTimeout((async()=>{window.top.UI.InfoMessage(`Falvak betöltése 1/${t+1}`);let a=await $.ajax({url:n}),i=await b(a);e(i)}),200*t)}))}function f(n){let t=n.split("/");return t[t.length-1].split(".")[0].replace("unit_","").replace("@2x","")}async function b(n){let t=$(n).find("#combined_table").find("tr"),e=[],i=[];$(t).find("th").get().forEach(((n,t)=>{let e=$(n).find("img");if(e.length>0){let n=$(e).attr("src");n.includes("graphic/unit/unit_")&&!n.includes("unit_militia")&&i.push({index:t,name:f(n)})}}));for(let n=1;n<t.length;n++){const l=t[n];let o=$(l).find("td"),r=parseInt($(l).find(".quickedit-vn").attr("data-id")),s={spear:0,sword:0,axe:0,archer:0,spy:0,light:0,marcher:0,heavy:0,ram:0,catapult:0,knight:0,snob:0},d=0;i.forEach((n=>{let t=parseInt($(o[n.index]).text());s[n.name]=t,d+=window.unitConfig[n.name].pop*t}));let c=(await a.VillageModel.init()).find((n=>n.id==r)),p=parseInt($(o[7]).find("a").text().split(" ")[0]);c.unitsContain=s,c.popRemain=p,c.popSize=d,e.push(c)}return console.log(e),e}function x(){let n=localStorage.getItem("TW-Attack-Planner"),t=[];return n&&(t=JSON.parse(n)),t}function y(n){let t=localStorage.getItem("TW-Attack-Planner"),e=[];t&&(e=JSON.parse(t));let a=e.findIndex(n);return a>-1?e[a]:null}function _(n){let t=localStorage.getItem("TW-Attack-Planner"),e=[];return t&&(e=JSON.parse(t)),-1==e.findIndex((t=>t.name==n.name))&&(e.push(n),localStorage.setItem("TW-Attack-Planner",JSON.stringify(e)),!0)}function k(n){let t=localStorage.getItem("TW-Attack-Planner"),e=[];t&&(e=JSON.parse(t));let a=e.findIndex((t=>t.id==n.id));return e[a]=n,localStorage.setItem("TW-Attack-Planner",JSON.stringify(e)),!0}function V(n){let t=localStorage.getItem("TW-Attack-Planner"),e=[];t&&(e=JSON.parse(t));let a=e.findIndex((t=>t.id==n));a>-1&&(e.splice(a,1),localStorage.setItem("TW-Attack-Planner",JSON.stringify(e)))}},"./src/core/LaunchVillagesModel.tsx":(n,t,e)=>{e.r(t),e.d(t,{LaunchVillagesModel:()=>l});var a=e("./src/core/Api.tsx"),i=e("./src/core/Model.tsx");class l extends i.Model{static init(n=0){return null==l.instance||this.group!=n?async function(){return l.instance=new l,await l.instance.loadlaunchVillages(n),l.instance}():async function(){return l.instance}()}async loadlaunchVillages(n){let{groups:t,villages:e}=await(0,a.loadPages)(0,n);this.items=e,l.groups=t}}l.instance=null,l.group=0,l.groups=[]},"./src/core/Model.tsx":(n,t,e)=>{e.r(t),e.d(t,{Model:()=>a});class a{constructor(n=[]){this.items=[],this.items=n}first(){return this.items.length>0?this.items[0]:null}get(n=this.items.length){return this.items.slice(0,n)}filter(n){let t=this.items.filter(n);return new a(t)}find(n){return this.items.find(n)}sort(n,t){let e=this.items.sort(((e,a)=>e[n]>a[n]?t?1:-1:t?-1:1));return new a(e)}}},"./src/core/PlayersModel.tsx":(n,t,e)=>{e.r(t),e.d(t,{PlayersModel:()=>l});var a=e("./src/core/Api.tsx"),i=e("./src/core/Model.tsx");class l extends i.Model{static init(){return console.log(l.instance),null==l.instance?async function(){return l.instance=new l,await l.instance.loadPlayers(),l.instance}():async function(){return l.instance}()}async loadPlayers(){this.items=await(0,a.getAllPlayer)()}}l.instance=null},"./src/core/VillageModel.tsx":(n,t,e)=>{e.r(t),e.d(t,{VillageModel:()=>l});var a=e("./src/core/Api.tsx"),i=e("./src/core/Model.tsx");class l extends i.Model{static init(){return null==l.instance?async function(){return l.instance=new l,await l.instance.loadVillages(),l.instance}():l.instance}async loadVillages(){this.items=await(0,a.getAllVillages)()}}l.instance=null},"./src/core/xml2json.ts":(n,t,e)=>{function a(n,t){var e={toObj:function(n){var t={};if(1==n.nodeType){if(n.attributes.length)for(var a=0;a<n.attributes.length;a++)t["@"+n.attributes[a].nodeName]=(n.attributes[a].nodeValue||"").toString();if(n.firstChild){for(var i=0,l=0,o=!1,r=n.firstChild;r;r=r.nextSibling)1==r.nodeType?o=!0:3==r.nodeType&&r.nodeValue.match(/[^ \f\n\r\t\v]/)?i++:4==r.nodeType&&l++;if(o)if(i<2&&l<2)for(e.removeWhite(n),r=n.firstChild;r;r=r.nextSibling)3==r.nodeType?t["#text"]=e.escape(r.nodeValue):4==r.nodeType?t["#cdata"]=e.escape(r.nodeValue):t[r.nodeName]?t[r.nodeName]instanceof Array?t[r.nodeName][t[r.nodeName].length]=e.toObj(r):t[r.nodeName]=[t[r.nodeName],e.toObj(r)]:t[r.nodeName]=e.toObj(r);else n.attributes.length?t["#text"]=e.escape(e.innerXml(n)):t=e.escape(e.innerXml(n));else if(i)n.attributes.length?t["#text"]=e.escape(e.innerXml(n)):t=e.escape(e.innerXml(n));else if(l)if(l>1)t=e.escape(e.innerXml(n));else for(r=n.firstChild;r;r=r.nextSibling)t["#cdata"]=e.escape(r.nodeValue)}n.attributes.length||n.firstChild||(t=null)}else 9==n.nodeType?t=e.toObj(n.documentElement):alert("unhandled node type: "+n.nodeType);return t},toJson:function(n,t,a){var i=t?'"'+t+'"':"";if(n instanceof Array){for(var l=0,o=n.length;l<o;l++)n[l]=e.toJson(n[l],"",a+"\t");i+=(t?":[":"[")+(n.length>1?"\n"+a+"\t"+n.join(",\n"+a+"\t")+"\n"+a:n.join(""))+"]"}else if(null==n)i+=(t&&":")+"null";else if("object"==typeof n){var r=[];for(var s in n)r[r.length]=e.toJson(n[s],s,a+"\t");i+=(t?":{":"{")+(r.length>1?"\n"+a+"\t"+r.join(",\n"+a+"\t")+"\n"+a:r.join(""))+"}"}else i+="string"==typeof n?(t&&":")+'"'+n.toString()+'"':(t&&":")+n.toString();return i},innerXml:function(n){var t="";if("innerHTML"in n)t=n.innerHTML;else for(var e=function(n){var t="";if(1==n.nodeType){t+="<"+n.nodeName;for(var a=0;a<n.attributes.length;a++)t+=" "+n.attributes[a].nodeName+'="'+(n.attributes[a].nodeValue||"").toString()+'"';if(n.firstChild){t+=">";for(var i=n.firstChild;i;i=i.nextSibling)t+=e(i);t+="</"+n.nodeName+">"}else t+="/>"}else 3==n.nodeType?t+=n.nodeValue:4==n.nodeType&&(t+="<![CDATA["+n.nodeValue+"]]>");return t},a=n.firstChild;a;a=a.nextSibling)t+=e(a);return t},escape:function(n){return n.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(n){n.normalize();for(var t=n.firstChild;t;)if(3==t.nodeType)if(t.nodeValue.match(/[^ \f\n\r\t\v]/))t=t.nextSibling;else{var a=t.nextSibling;n.removeChild(t),t=a}else 1==t.nodeType?(e.removeWhite(t),t=t.nextSibling):t=t.nextSibling;return n}};9==n.nodeType&&(n=n.documentElement);var a=e.toJson(e.toObj(e.removeWhite(n)),n.nodeName,"\t");return"{\n"+t+(t?a.replace(/\t/g,t):a.replace(/\t|\n/g,""))+"\n}"}e.r(t),e.d(t,{xml2json:()=>a})},"./src/view/launchDialog.tsx":(n,t,e)=>{e.r(t),e.d(t,{launchDialog:()=>l});var a=e("./src/core/Api.tsx"),i=e("./src/view/mainWindow.tsx");const l=n=>(console.log(n),`\n        <style>\n            .launch-dialog{\n                display:grid;\n                text-align:center;\n            }\n            .launch-dialog option {\n                font-size:16px;\n                padding:2px 5px;\n                text-align:center;\n            }\n\n            .launch-dialog button{\n                margin: 10px auto;\n                width: max-content;\n            }\n\n            .launch-dialog-selector{\n                display:grid;\n            }\n\n            .new-plan{\n                display:none;\n            }\n\n            .steps{\n                width:100%;\n                display:inline-flex;\n                justify-content: space-evenly;\n                width: 100%;\n                padding: 10px 0;\n            }\n\n            .step{\n                display:grid;\n            }\n\n            .circle{\n                border-radius:50%;\n                background: linear-gradient(to bottom, #947a62 0%,#7b5c3d 22%,#6c4824 30%,#6c4824 100%);\n                color:white;\n                padding: 4px 10px;\n                font-size: 20px;\n                cursor:pointer;\n            }\n\n            .inactive{\n                background: linear-gradient(to bottom, #947a6266 0%,#7b5c3d69 22%,#6c48245e 30%,#6c482480 100%) !important\n            }\n        </style>\n        <div id="dialog-loading" style="display: none;justify-content: center;width: 100%;">\n            <img style="height:25px" src="https://dshu.innogamescdn.com/asset/6389cdba/graphic/loading.gif"><span style="padding:5px">Betöltés...</span>\n        </div>\n        <div class="launch-dialog">\n            <div><h1>TW Attack Planner</h1></div>\n            <div class="launch-dialog-selector">\n                <h3>Plans:</h3>\n                <select id="launchDialogSelect" size="5">\n                    ${n.map((n=>(console.log(n),`<option value="${n.id}">${n.name}</option>`)))}\n                </select>\n                <button onclick="launchDialog.loadPlan()" class="btn">Load Plan</button>\n                <button onclick="launchDialog.removePlan()" class="btn">Remove Plan</button>\n\n                <button onclick="launchDialog.newplan()" class="btn">+ New Plan</button>\n            </div>\n\n            <div class="new-plan">\n                <div class="steps">\n                    <div id="c1" onclick="launchDialog.goToStep(1)" class="circle">1</div>\n                    <div id="c2" class="circle inactive">2</div>\n                    <div id="c3" class="circle inactive">3</div>\n                    <div id="c4" class="circle inactive">4</div>\n                </div>\n                <div class="step-1 step">\n                    <label for="template_name">Template name:</label><br>\n                    <input onkeyup="launchDialog.step1Check()" id="template_name" type="text"/>\n                </div>\n                <div class="step-2 step" style="display:none;">\n                    <label for="">Targets:</label><br>\n                    <textarea onkeyup="launchDialog.step2Check()" id="plan_targets" size="10"></textarea>\n                </div>\n                <div class="step-3 step" style="display:none;">\n                    <label for="">Arrivals:</label><br>\n                    <select id="plan_arrivals_select" size="5">\n                    </select>\n                    <input id="plan_arrivals_input" type="datetime-local" type="text"/>\n                    <div>\n                        <button onclick="launchDialog.addArrival()" >add</button>\n                        <button onclick="launchDialog.removeArrival()">remove</button>\n                    </div>\n                </div>\n                <div class="step-4 step" style="display:none;">\n                    <label for="template_select">Templates:</label>\n                    <select onclick="launchDialog.selectTemplate()" id="template_select" size="5"></select>\n                    <label for="temp_name">name:</label>\n                    <input id="temp_name" type="text" />\n                    <label >units:</label>\n                    <table>\n                        <tbody>\n                            <tr>\n                                <td valign="top">\n                                    <table class="vis" width="100%">\n                                            <tbody>\n                                                <tr>\n                                                    <th>Gyalogság</th>\n                                                </tr>\n                                                <tr>\n                                                    <td class="nowrap">\n                                                    <img\n                                                        src="https://dshu.innogamescdn.com/asset/5b5eb006/graphic/unit/unit_spear.png"\n                                                        class="" data-title="Lándzsás">\n                                                        <input value="0" style="width:60px" id="unit_input_spear" type="number" min="0">\n                                                    </td>\n                                                </tr>\n                                                <tr>\n                                                    <td class="nowrap">\n                                                    <img\n                                                        src="https://dshu.innogamescdn.com/asset/5b5eb006/graphic/unit/unit_sword.png"\n                                                        class="" data-title="Lándzsás">\n                                                        <input value="0" style="width:60px" id="unit_input_sword" type="number" min="0">\n                                                    </td>\n                                                </tr> \n                                                <tr>\n                                                    <td class="nowrap">\n                                                    <img\n                                                        src="https://dshu.innogamescdn.com/asset/5b5eb006/graphic/unit/unit_axe.png"\n                                                        class="" data-title="Lándzsás">\n                                                        <input value="0" style="width:60px" id="unit_input_axe" type="number" min="0">\n                                                    </td>\n                                                </tr> \n                                                <tr>\n                                                    <td class="nowrap">\n                                                    <img\n                                                        src="https://dshu.innogamescdn.com/asset/5b5eb006/graphic/unit/unit_archer.png"\n                                                        class="" data-title="Lándzsás">\n                                                        <input value="0" style="width:60px" id="unit_input_archer" type="number" min="0">\n                                                    </td>\n                                                </tr> \n                                            </tbody>\n                                    </table>\n                                </td>\n                                <td valign="top">\n                                    <table class="vis" width="100%">\n                                            <tbody>\n                                                <tr>\n                                                    <th>Lovasság</th>\n                                                </tr>\n                                                <tr>\n                                                    <td class="nowrap">\n                                                    <img\n                                                        src="https://dshu.innogamescdn.com/asset/5b5eb006/graphic/unit/unit_spy.png"\n                                                        class="" data-title="Lándzsás">\n                                                        <input value="0" style="width:60px" id="unit_input_spy" type="number" min="0">\n                                                    </td>\n                                                </tr>\n                                                <tr>\n                                                    <td class="nowrap">\n                                                    <img\n                                                        src="https://dshu.innogamescdn.com/asset/5b5eb006/graphic/unit/unit_light.png"\n                                                        class="" data-title="Lándzsás">\n                                                        <input value="0" style="width:60px" id="unit_input_light" type="number" min="0">\n                                                    </td>\n                                                </tr> \n                                                <tr>\n                                                    <td class="nowrap">\n                                                    <img\n                                                        src="https://dshu.innogamescdn.com/asset/5b5eb006/graphic/unit/unit_marcher.png"\n                                                        class="" data-title="Lándzsás">\n                                                        <input value="0" style="width:60px" id="unit_input_marcher" type="number" min="0">\n                                                    </td>\n                                                </tr> \n                                                <tr>\n                                                    <td class="nowrap">\n                                                    <img\n                                                        src="https://dshu.innogamescdn.com/asset/5b5eb006/graphic/unit/unit_heavy.png"\n                                                        class="" data-title="Lándzsás">\n                                                        <input value="0" style="width:60px" id="unit_input_heavy" type="number" min="0">\n                                                    </td>\n                                                </tr> \n                                            </tbody>\n                                    </table>\n                                </td>\n                            <tr>\n                            <tr>\n                                <td valign="top">\n                                    <table class="vis" width="100%">\n                                            <tbody>\n                                                <tr>\n                                                    <th>Hadászat</th>\n                                                </tr>\n                                                <tr>\n                                                    <td class="nowrap">\n                                                    <img\n                                                        src="https://dshu.innogamescdn.com/asset/5b5eb006/graphic/unit/unit_ram.png"\n                                                        class="" data-title="Lándzsás">\n                                                        <input value="0" style="width:60px" id="unit_input_ram" type="number" min="0">\n                                                    </td>\n                                                </tr>\n                                                <tr>\n                                                    <td class="nowrap">\n                                                    <img\n                                                        src="https://dshu.innogamescdn.com/asset/5b5eb006/graphic/unit/unit_catapult.png"\n                                                        class="" data-title="Lándzsás">\n                                                        <input value="0" style="width:60px" id="unit_input_catapult" type="number" min="0">\n                                                    </td>\n                                                </tr> \n                                            </tbody>\n                                    </table>\n                                </td>\n                                <td valign="top">\n                                    <table class="vis" width="100%">\n                                            <tbody>\n                                                <tr>\n                                                    <th>Egyéb</th>\n                                                </tr>\n                                                <tr>\n                                                    <td class="nowrap">\n                                                    <img\n                                                        src="https://dshu.innogamescdn.com/asset/5b5eb006/graphic/unit/unit_knight.png"\n                                                        class="" data-title="Lándzsás">\n                                                        <input value="0" style="width:60px" id="unit_input_knight" type="number" min="0">\n                                                    </td>\n                                                </tr>\n                                                <tr>\n                                                    <td class="nowrap">\n                                                    <img\n                                                        src="https://dshu.innogamescdn.com/asset/5b5eb006/graphic/unit/unit_snob.png"\n                                                        class="" data-title="Lándzsás">\n                                                        <input value="0" style="width:60px" id="unit_input_snob" type="number" min="0">\n                                                    </td>\n                                                </tr> \n                                            </tbody>\n                                    </table>\n                                </td>\n                            </tr>\n                        <tbody>\n                    </table>\n                    <div>\n                        <button onclick="launchDialog.addTemplate()">add</button>\n                        <button onclick="launchDialog.removeTemplate()">remove</button>\n                    </div>\n                </div>\n                <button id="nextBtn" onclick="launchDialog.goNext(2)" class="btn" disabled>Next</button>\n                <button style="display:none;" id="createPlan" onclick="launchDialog.createPlan()" class="btn" disabled>Create Plan</button>\n                <button onclick="launchDialog.cancelNewPlan()" class="btn">Cancel</button>\n            </div>\n        </div>\n    `);window.launchDialog={step1Check:()=>{let n=$("#template_name").val().toString();n.length>3&&null==(0,a.findPlan)((t=>t.name==n))?($("#nextBtn").prop("disabled",!1),window.launchDialog.plan.name=n):$("#nextBtn").prop("disabled",!0)},step2Check:()=>{let n=$("#plan_targets").val().toString();console.log(n),window.launchDialog.plan.targetPool=[];let t=Array.from(n.matchAll(/([0-9]{1,3}).([0-9]{1,3})/g));console.log(t),t.forEach((n=>{let t=n[1]+"|"+n[2],e=window.Villages.find((n=>n.coord.text==t));console.log(t,e),e&&window.launchDialog.plan.targetPool.push({booster:0,launchers:[],village:e})})),window.launchDialog.plan.targetPool.length>0?$("#nextBtn").prop("disabled",!1):$("#nextBtn").prop("disabled",!0)},step3Check:()=>{window.launchDialog.plan.arrivals.length>0?$("#nextBtn").prop("disabled",!1):$("#nextBtn").prop("disabled",!0)},step4Check:()=>{window.launchDialog.plan.templates.length>0?$("#createPlan").prop("disabled",!1):$("#createPlan").prop("disabled",!0)},goToStep:n=>{$(".step-1").hide(),$(".step-2").hide(),$(".step-3").hide(),$(".step-4").hide(),$(".step-"+n).show(),n<4?($("#nextBtn").attr("onclick","launchDialog.goNext("+(n+1)+")"),$("#createPlan").hide(),$("#nextBtn").show()):($("#createPlan").show(),$("#nextBtn").hide())},goNext:n=>{console.log(n,n>=4),$(".step-1").hide(),$(".step-2").hide(),$(".step-3").hide(),$(".step-4").hide(),$("#c"+n).attr("onclick","launchDialog.goToStep("+n+")"),n>3?($(".step-4").show(),$("#nextBtn").hide(),$("#createPlan").show(),$("#c"+n).removeClass("inactive")):($("#nextBtn").prop("disabled",!0),$(".step-"+n).show(),$("#c"+n).removeClass("inactive"),n++,$("#nextBtn").attr("onclick","launchDialog.goNext("+n+")"))},newplan:()=>{$(".new-plan").show(),$(".launch-dialog-selector").hide(),window.launchDialog.plan={arrivals:[],boosters:[],launchPool:[],id:(new Date).getTime().toString(),name:"",targetPool:[],templates:[]}},cancelNewPlan:()=>{$(".step-1").show(),$(".step-2").hide(),$(".step-3").hide(),$(".step-4").hide(),$("#nextBtn").attr("onclick","launchDialog.goNext(2)"),$(".new-plan").hide(),$(".launch-dialog-selector").show(),$("#c2").addClass("inactive"),$("#c3").addClass("inactive"),$("#c4").addClass("inactive"),$("#createPlan").hide(),$("#nextBtn").show(),$("#template_name").val(""),$("#c2").attr("onclick",""),$("#c3").attr("onclick",""),$("#c4").attr("onclick",""),$("#plan_arrivals_select").html(""),$("#plan_targets").val(""),$("#template_select").html(""),$("#temp_name").val(""),$("#unit_input_spear").val("0"),$("#unit_input_sword").val("0"),$("#unit_input_archer").val("0"),$("#unit_input_axe").val("0"),$("#unit_input_spy").val("0"),$("#unit_input_light").val("0"),$("#unit_input_marcher").val("0"),$("#unit_input_heavy").val("0"),$("#unit_input_ram").val("0"),$("#unit_input_catapult").val("0"),$("#unit_input_knight").val("0"),$("#unit_input_snob").val("0")},createPlan:()=>{window.launchDialog.plan.launchPool=window.LaunchVillages.get(),window.attackPlan=window.launchDialog.plan,(0,a.addPlan)(window.attackPlan)?window.UI.SuccessMessage("Plan successfully created!"):window.UI.SuccessMessage("Plan with this name already exist!"),$("#dialog-loading").css("display","inline-flex"),$(".launch-dialog").hide(),setTimeout((()=>{window.Dialog.show("PlannerMainWindow",(0,i.mainWindow)()),$(".popup_box_container").append('<div style="position: fixed;width: 100%;height: 100%;top:0;left:0;z-index:12001"></div>')}),1e3)},addArrival:()=>{let n=$("#plan_arrivals_input").val().toString().replace("T"," ");if(console.log(n),""==n)return;window.launchDialog.plan.arrivals.includes(n)||window.launchDialog.plan.arrivals.push(n);let t="";window.launchDialog.plan.arrivals.forEach((n=>{t+=`<option value="${n}">${n}</option>`})),$("#plan_arrivals_select").html(t),window.launchDialog.step3Check()},removeArrival:()=>{let n=$("#plan_arrivals_select").val().toString().replace("T"," ");if(console.log(n),""==n)return;let t=window.launchDialog.plan.arrivals.findIndex((t=>t==n));t>-1&&window.launchDialog.plan.arrivals.splice(t,1);let e="";window.launchDialog.plan.arrivals.forEach((n=>{e+=`<option value="${n}">${n}</option>`})),$("#plan_arrivals_select").html(e),window.launchDialog.step3Check()},addTemplate:()=>{let n={name:$("#temp_name").val().toString(),units:{spear:parseInt($("#unit_input_spear").val().toString()),sword:parseInt($("#unit_input_sword").val().toString()),archer:parseInt($("#unit_input_archer").val().toString()),axe:parseInt($("#unit_input_axe").val().toString()),spy:parseInt($("#unit_input_spy").val().toString()),light:parseInt($("#unit_input_light").val().toString()),marcher:parseInt($("#unit_input_marcher").val().toString()),heavy:parseInt($("#unit_input_heavy").val().toString()),ram:parseInt($("#unit_input_ram").val().toString()),catapult:parseInt($("#unit_input_catapult").val().toString()),knight:parseInt($("#unit_input_knight").val().toString()),snob:parseInt($("#unit_input_snob").val().toString())}};if(console.log(n),""==n.name)return;let t=window.launchDialog.plan.templates.findIndex((t=>t.name==n.name));t>-1?window.launchDialog.plan.templates[t]=n:window.launchDialog.plan.templates.push(n),$("#temp_name").val(""),$("#unit_input_spear").val("0"),$("#unit_input_sword").val("0"),$("#unit_input_archer").val("0"),$("#unit_input_axe").val("0"),$("#unit_input_spy").val("0"),$("#unit_input_light").val("0"),$("#unit_input_marcher").val("0"),$("#unit_input_heavy").val("0"),$("#unit_input_ram").val("0"),$("#unit_input_catapult").val("0"),$("#unit_input_knight").val("0"),$("#unit_input_snob").val("0");let e="";window.launchDialog.plan.templates.forEach((n=>{e+=`<option value="${n.name}">${n.name}</option>`})),$("#template_select").html(e),window.launchDialog.step4Check()},removeTemplate:()=>{let n=$("#template_select").val(),t=window.launchDialog.plan.templates.findIndex((t=>t.name==n));t>-1&&window.launchDialog.plan.templates.splice(t,1);let e="";window.launchDialog.plan.templates.forEach((n=>{e+=`<option value="${n.name}">${n.name}</option>`})),$("#template_select").html(e),window.launchDialog.step4Check()},selectTemplate:()=>{let n=$("#template_select").val(),t=window.launchDialog.plan.templates.findIndex((t=>t.name==n));if(t>-1){let n=window.launchDialog.plan.templates[t];$("#temp_name").val(n.name),$("#unit_input_spear").val(n.units.spear),$("#unit_input_sword").val(n.units.sword),$("#unit_input_archer").val(n.units.archer),$("#unit_input_axe").val(n.units.axe),$("#unit_input_spy").val(n.units.spy),$("#unit_input_light").val(n.units.light),$("#unit_input_marcher").val(n.units.marcher),$("#unit_input_heavy").val(n.units.heavy),$("#unit_input_ram").val(n.units.ram),$("#unit_input_catapult").val(n.units.catapult),$("#unit_input_knight").val(n.units.knight),$("#unit_input_snob").val(n.units.snob)}},loadPlan:()=>{let n=$("#launchDialogSelect").val().toString();""!=n&&($("#dialog-loading").css("display","inline-flex"),$(".launch-dialog").hide(),setTimeout((()=>{window.attackPlan=(0,a.findPlan)((t=>t.id==n)),window.Dialog.show("PlannerMainWindow",(0,i.mainWindow)()),$(".popup_box_container").append('<div style="position: fixed;width: 100%;height: 100%;top:0;left:0;z-index:12001"></div>')}),1e3))},removePlan:()=>{let n=$("#launchDialogSelect").val().toString();if(""==n)return;(0,a.removePlan)(n);let t=(0,a.loadPlans)();$("#launchDialogSelect").html(`${t.map((n=>`<option value="${n.id}">${n.name}</option>`))}`)},plan:void 0}},"./src/view/launchItem.tsx":(n,t,e)=>{e.r(t),e.d(t,{launchItem:()=>a});const a=n=>{let t=document.createElement("div");t.className="launch-item";let e=document.createElement("div");e.className="name-field",e.innerText=`${n.name} (${n.coord.text})`,t.appendChild(e);let a=document.createElement("input");a.value=`${n.id}`,a.type="checkbox";let i=document.createElement("img"),l="small";n.popSize>1e3&&n.popSize<=5e3?l="medium":n.popSize>5e3&&(l="large"),i.src=`https://dshu.innogamescdn.com/asset/72737c96/graphic/command/attack_${l}.png`;let o=document.createElement("div");o.className="check-field",o.appendChild(a),o.appendChild(i),t.appendChild(o);let r=Object.keys(n.unitsContain);for(let e=0;e<r.length;e++){const a=r[e];if(0==window.gameConfig.game.archer&&("archer"==a||"marcher"==a))continue;let i=document.createElement("div");i.className=`${a}-field ${0==n.unitsContain[a]?"hidden":""}`,i.innerText=`${n.unitsContain[a]}`,t.appendChild(i)}return t}},"./src/view/mainWindow.tsx":(n,t,e)=>{e.r(t),e.d(t,{mainWindow:()=>l});var a=e("./src/view/launchItem.tsx"),i=e("./src/view/targetItem.tsx");const l=()=>`\n    <style>\n        ::-webkit-scrollbar {\n    width: 5px;\n    }\n    \n    /* Track */\n    ::-webkit-scrollbar-track {\n        box-shadow: inset 0 0 5px grey;\n        border-radius: 10px;\n    }\n    \n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n        background: grey;\n        border-radius: 10px;\n    }\n\n        .mainWindow{\n            width: 100%;\n            height:85vh;\n        }\n        .popup_box_container{\n            height:100% !important;\n        }\n        #popup_box_PlannerMainWindow{\n            width: 95vw !important;\n        }\n        html{\n            overflow: hidden !important;\n        }\n        .container {\n            height: calc(100% - 10px);\n            border: solid 2px #6c4824;\n            border-radius:20px;\n            display: grid;\n            grid-template-columns: 0.5fr 1.3fr 1.3fr;\n            grid-template-rows: 26px 3fr [option] 0.1fr;\n            gap: 0px 0px;\n            grid-auto-flow: row;\n        }\n\n        .options-title { \n            grid-area: 1 / 1 / 2 / 2; \n            border-top-left-radius: 20px;\n            border-right: solid 2px #6c4824;\n            border-bottom: solid 2px #6c4824;\n        }\n\n        .options-panel {\n            border-right: solid 2px #6c4824;\n            display: table;\n        }\n\n        .target-title { \n            grid-area: 1 / 2 / 2 / 3; \n            border-right: solid 1px #6c4824;\n            border-bottom: solid 2px #6c4824;\n        }\n\n        .target-panel { \n            grid-area: 2 / 2 / 4 / 3; \n            border-right: solid 1px #6c4824;\n\n            display: grid; \n            grid-template-columns: 1fr; \n            grid-template-rows: 30px 1fr; \n            gap: 0px 0px; \n            grid-template-areas: \n                "target-header"\n                "target-list";\n        }\n\n        .target-header {\n            grid-area: target-header; \n        }\n        .target-list { grid-area: target-list; overflow-y:auto; }\n\n        .launch-title { \n            grid-area: 1 / 3 / 2 / 4;\n            border-top-right-radius: 20px;\n            border-left: solid 1px #6c4824;\n            border-bottom: solid 2px #6c4824;\n            display: flex;\n            flex-wrap: nowrap;\n            justify-content: space-evenly;\n            align-items: flex-start;\n            align-content: flex-start;\n            flex-direction: row;\n        }\n\n        .launch-panel { \n            grid-area: 2 / 3 / 4 / 4; \n            border-left: solid 1px #6c4824;\n            display: grid; \n            grid-template-columns: 1fr; \n            grid-template-rows: 30px 1fr; \n            gap: 0px 0px; \n            grid-template-areas: \n                "launch-header"\n                "launch-list"; \n        }\n\n        .launch-list {\n            overflow-y:scroll;\n            border-bottom-right-radius: 20px;\n            grid-area: launch-list; \n            display: grid;\n        }\n        .launch-header { \n            padding-right:5px;\n            background: linear-gradient(to bottom,#e2c07c 0%,#dab874 44%,#c1a264 100%);\n            grid-area: launch-header;\n            display: grid;\n            grid-template-columns:  1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr; \n            grid-template-rows: 30px;\n            gap: 0px;\n            grid-template-areas: \n                "size-icon spear-icon sword-icon axe-icon archer-icon spy-icon light-icon marcher-icon heavy-icon ram-icon catapult-icon pala-icon snob-icon"\n        }\n\n        .launch-filter-bar{\n           \n        }\n\n        .credits { grid-area: option / 1 / 4 / 2; border-right: solid 2px #6c4824; padding:10px;}\n\n        .header {\n            background: linear-gradient(to bottom,#e2c07c 0%,#dab874 44%,#c1a264 100%);\n            text-align: center;\n            padding:3px;\n        }\n\n        .launch-header div{\n            padding: 5px;\n        }\n        .launch-header img{\n            margin: 0 auto;\n            display: block;\n            cursor: pointer;\n        }\n\n        .size-icon { grid-area: size-icon; }\n        .spear-icon { grid-area: spear-icon; }\n        .sword-icon { grid-area: sword-icon; }\n        .axe-icon { grid-area: axe-icon; }\n        .archer-icon { grid-area: archer-icon; }\n        .spy-icon { grid-area: spy-icon; }\n        .light-icon { grid-area: light-icon; }\n        .marcher-icon { grid-area: marcher-icon; }\n        .heavy-icon { grid-area: heavy-icon; }\n        .ram-icon { grid-area: ram-icon; }\n        .catapult-icon { grid-area: catapult-icon; }\n        .pala-icon { grid-area: pala-icon; }\n        .snob-icon { grid-area: snob-icon; }\n\n        .option-item{\n            width:100%;\n            margin: 15px 0;\n        }\n        .option-item button{\n            height: 30px;\n            margin: 0 auto;\n            display: block;\n            min-width: 85%;\n        }\n        .option-item h2{\n            text-align:center;\n        }\n    </style>\n     <style>\n            .launch-item{\n            height: max-content;\n            border-top: solid 1px #6c4824;\n            border-bottom: solid 1px #6c4824;\n            margin-top:3px;\n            text-align:center;\n            display: grid; \n            grid-template-columns:  1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;;\n            grid-template-rows: 30px 30px ;\n            gap: 0px 0px; \n            grid-template-areas:\n                "check-field name-field name-field name-field ${1==window.gameConfig.game.archer&&"name-field"} name-field name-field ${1==window.gameConfig.game.archer&&"name-field"} name-field name-field name-field name-field name-field"\n                "check-field spear-field sword-field axe-field ${1==window.gameConfig.game.archer&&"archer-field"} spy-field light-field ${1==window.gameConfig.game.archer&&"marcher-field"}  heavy-field ram-field catapult-field knight-field snob-field";\n            }\n\n            .check-field input{\n                height:16px;\n                width:16px;\n                float:left;\n            }\n\n            .check-field img{\n                height: 16px;\n                float:right;\n                padding-right:3px;\n            }\n\n            .check-field { grid-area: check-field; padding: 20px 0; background-color:#fff5dc; border-right:1px solid #6c4824}\n            .spear-field { grid-area: spear-field; padding: 5px 0;background-color:#fff5dc}\n            .sword-field { grid-area: sword-field; padding: 5px 0;background-color:#fff5dc}\n            .axe-field { grid-area: axe-field; padding: 5px 0;background-color:#fff5dc}\n            .archer-field { grid-area: archer-field; padding: 5px 0;background-color:#fff5dc}\n            .spy-field { grid-area: spy-field; padding: 5px 0;background-color:#fff5dc}\n            .light-field { grid-area: light-field; padding: 5px 0;background-color:#fff5dc}\n            .marcher-field { grid-area: marcher-field; padding: 5px 0;background-color:#fff5dc}\n            .heavy-field { grid-area: heavy-field; padding: 5px 0;background-color:#fff5dc}\n            .ram-field { grid-area: ram-field; padding: 5px 0;background-color:#fff5dc}\n            .catapult-field { grid-area: catapult-field; padding: 5px 0;background-color:#fff5dc}\n            .knight-field { grid-area: knight-field; padding: 5px 0;background-color:#fff5dc}\n            .snob-field { grid-area: snob-field; padding: 5px 0;background-color:#fff5dc}\n            .name-field { \n                grid-area: name-field;\n                color: #603000;\n                font-weight: bold;\n                background-color:#ecd8b2;\n                padding: 5px 0;\n            }\n            .target-item{\n                overflow-x:hidden;\n                display: block;\n                width:100%;\n                margin: 5px 0;\n                border-top: solid 1px #6c4824;\n                border-bottom: solid 1px #6c4824;\n            }\n            .target-header{\n                height:35px;\n                width:100%;\n                display: flex;\n\t            justify-content: space-around;\n                background-color: #ecd8b2;\n                cursor: pointer;\n            }\n\n            .target-header div{\n                padding-top: 9px;\n                padding-bottom: 9px;\n            }\n\n            .target-village-name{\n                color: #603000;\n                font-weight: bold;\n            }\n            .target-extras{\n                flex-grow: 1;\n            }\n\n            .target-launchers{\n                display:none;\n                width:100%;\n                min-height:20px;\n                background-color: #fff5dc;\n            }\n\n            .remove-target-btn {\n                float: right;\n                z-index: 2;\n                width: 20px;\n                height: 20px;\n                background: url(https://dshu.innogamescdn.com/asset/80b013af/graphic/login_close.png) top left no-repeat;\n                cursor: pointer;\n                background-size: 20px;\n                margin-right: 10px;\n            }\n            .add-village-booster{\n                background: url(https://klanhaboru.hu/graphic/plus.png) top left no-repeat;\n                height: 16px;\n                width: 16px;\n                margin-left: 5px;\n                cursor: pointer;\n                display: inline-block;\n                vertical-align: middle;\n            }\n\n            .indicator{\n                font-size: 16px;\n                padding-left: 5px;\n                padding-right: 5px;\n            }\n\n            .indicator-open{\n                transform: rotate(90deg);\n            }\n        </style>\n    <div class="mainWindow">\n        <div class="container">\n            <div class="options-title header">\n                <h3>Options</h3>\n            </div>\n            <div class="options-panel">\n                <div class="option-item">\n                    <h2>${window.attackPlan.name}</h2>\n                </div>\n                <div class="option-item">\n                    <button class="btn">Add targets</button>\n                </div>\n                <div class="option-item">\n                    <button class="btn">Edit arrivals</button>\n                </div>\n                <div class="option-item">\n                    <button class="btn">Edit Templates</button>\n                </div>\n                <div class="option-item">\n                    <button class="btn">Edit player buffs</button>\n                </div>\n                <div class="option-item">\n                    <button class="btn">Auto assigner</button>\n                </div>\n                <div class="option-item">\n                    <button class="btn">Calculate</button>\n                </div>\n                <div class="option-item">\n                    <button class="btn">Reset assignments</button>\n                </div>\n            </div>\n            <div class="target-title header">\n                <h3>Targets</h3>\n            </div>\n            <div class="target-panel">\n                <div class="target-header">\n                </div>\n                <div class="target-list">\n                </div>\n            </div>\n            <div class="launch-title header">\n                <div class="launch-filter-bar">\n                    <button onclick="window.oderLaunchVillages('coord')" class="btn">XY</button>\n                    <button onclick="window.oderLaunchVillages('name')" class="btn">Name</button>\n                    \n                </div>\n                <h3>Launch villages</h3>\n                <div class="launch-filter-bar">\n                    <button onclick="window.oderLaunchVillages('size')" class="btn">Size</button>\n                    <button onclick="window.oderLaunchVillages('reset')" class="btn">Reset</button>\n                </div>\n            </div>\n            <div class="launch-panel">\n                <div class="launch-header">\n                    <div class="size-icon">\n                        <button class="btn"><---</button>\n                    </div>\n                    <div class="spear-icon">\n                        <img onclick="window.oderLaunchVillages('spear')" src="https://dshu.innogamescdn.com/asset/fd86cac8/graphic/unit/unit_spear.png">\n                    </div>\n                    <div class="sword-icon">\n                        <img onclick="window.oderLaunchVillages('sword')" src="https://dshu.innogamescdn.com/asset/fd86cac8/graphic/unit/unit_sword.png">\n                    </div>\n                    <div class="axe-icon">\n                        <img onclick="window.oderLaunchVillages('axe')" src="https://dshu.innogamescdn.com/asset/fd86cac8/graphic/unit/unit_axe.png">\n                    </div>\n                    ${1==window.gameConfig.game.archer&&'<div class="archer-icon">\n                        <img onclick="window.oderLaunchVillages(\'archer\')" src="https://dshu.innogamescdn.com/asset/fd86cac8/graphic/unit/unit_archer.png">\n                    </div>'}\n                    <div class="spy-icon">\n                        <img onclick="window.oderLaunchVillages('spy')" src="https://dshu.innogamescdn.com/asset/fd86cac8/graphic/unit/unit_spy.png">\n                    </div>\n                    <div class="light-icon">\n                        <img onclick="window.oderLaunchVillages('light')" src="https://dshu.innogamescdn.com/asset/fd86cac8/graphic/unit/unit_light.png">\n                    </div>\n                    ${1==window.gameConfig.game.archer&&'<div class="marcher-icon">\n                            <img onclick="window.oderLaunchVillages(\'marcher\')" src="https://dshu.innogamescdn.com/asset/fd86cac8/graphic/unit/unit_marcher.png">\n                        </div>'}\n                    <div class="heavy-icon">\n                        <img onclick="window.oderLaunchVillages('heavy')" src="https://dshu.innogamescdn.com/asset/fd86cac8/graphic/unit/unit_heavy.png">\n                    </div>\n                    <div class="ram-icon">\n                        <img onclick="window.oderLaunchVillages('ram')" src="https://dshu.innogamescdn.com/asset/fd86cac8/graphic/unit/unit_ram.png">\n                    </div>\n                    <div class="catapult-icon">\n                        <img onclick="window.oderLaunchVillages('catapult')" src="https://dshu.innogamescdn.com/asset/fd86cac8/graphic/unit/unit_catapult.png">\n                    </div>\n                    <div class="pala-icon">\n                        <img onclick="window.oderLaunchVillages('pala')" src="https://dshu.innogamescdn.com/asset/fd86cac8/graphic/unit/unit_knight.png">\n                    </div>\n                    <div class="snob-icon">\n                        <img onclick="window.oderLaunchVillages('snob')" src="https://dshu.innogamescdn.com/asset/fd86cac8/graphic/unit/unit_snob.png">\n                    </div>\n                </div>\n                <div class="launch-list">\n                </div>\n            </div>\n            <div class="credits">\n                v0.1.0-alpha; by: toldi26\n            </div>\n        </div>\n    </div>\n    <script>\n        window.mainInit();\n    <\/script>\n    `;var o;window.mainInit=()=>{window.launchVillagesStep=25,window.launchVillagesPaging=0,window.launchVillagesWay=1,window.launchVillagesOrder="name",window.renderLaunchVillages(),window.renderTargetVillages()},window.oderLaunchVillages=n=>{n==window.launchVillagesOrder&&(window.launchVillagesWay*=-1),window.launchVillagesOrder=n,clearTimeout(o),o=setTimeout((()=>{let t=null;switch(n){case"name":t=(n,t)=>n.name<t.name?-1*window.launchVillagesWay:1*window.launchVillagesWay;break;case"coord":t=(n,t)=>n.coord.text<t.coord.text?-1*window.launchVillagesWay:1*window.launchVillagesWay;break;case"size":t=(n,t)=>n.popSize>t.popSize?-1*window.launchVillagesWay:1*window.launchVillagesWay;break;case"spear":t=(n,t)=>n.unitsContain.spear>t.unitsContain.spear?-1*window.launchVillagesWay:1*window.launchVillagesWay;break;case"sword":t=(n,t)=>n.unitsContain.sword>t.unitsContain.sword?-1*window.launchVillagesWay:1*window.launchVillagesWay;break;case"axe":t=(n,t)=>n.unitsContain.axe>t.unitsContain.axe?-1*window.launchVillagesWay:1*window.launchVillagesWay;break;case"archer":t=(n,t)=>n.unitsContain.archer>t.unitsContain.archer?-1*window.launchVillagesWay:1*window.launchVillagesWay;break;case"light":t=(n,t)=>n.unitsContain.light>t.unitsContain.light?-1*window.launchVillagesWay:1*window.launchVillagesWay;break;case"spy":t=(n,t)=>n.unitsContain.spy>t.unitsContain.spy?-1*window.launchVillagesWay:1*window.launchVillagesWay;break;case"marcher":t=(n,t)=>n.unitsContain.marcher>t.unitsContain.marcher?-1*window.launchVillagesWay:1*window.launchVillagesWay;break;case"heavy":t=(n,t)=>n.unitsContain.heavy>t.unitsContain.heavy?-1*window.launchVillagesWay:1*window.launchVillagesWay;break;case"ram":t=(n,t)=>n.unitsContain.ram>t.unitsContain.ram?-1*window.launchVillagesWay:1*window.launchVillagesWay;break;case"catapult":t=(n,t)=>n.unitsContain.catapult>t.unitsContain.catapult?-1*window.launchVillagesWay:1*window.launchVillagesWay;break;case"snob":t=(n,t)=>n.unitsContain.snob>t.unitsContain.snob?-1*window.launchVillagesWay:1*window.launchVillagesWay;break;case"knight":t=(n,t)=>n.unitsContain.knight>t.unitsContain.knight?-1*window.launchVillagesWay:1*window.launchVillagesWay;break;default:t=(n,t)=>n.name<t.name?-1:1,window.launchVillagesStep=25,window.launchVillagesPaging=0,window.launchVillagesWay=1}window.attackPlan.launchPool.sort(t),$(".launch-list").html(""),$(".launch-list").scrollTop(0),window.launchVillagesPaging=0,window.renderLaunchVillages()}),500)},window.renderLaunchVillages=async()=>{if(window.attackPlan.launchPool.length<window.launchVillagesPaging)return;var n=document.getElementsByClassName("launch-list")[0];let t=window.launchVillagesPaging+window.launchVillagesStep;window.launchVillagesPaging+window.launchVillagesStep>window.attackPlan.launchPool.length&&(t=window.attackPlan.launchPool.length);for(let e=window.launchVillagesPaging;e<t;e++){const t=window.attackPlan.launchPool[e];n.appendChild((0,a.launchItem)(t))}window.launchVillagesPaging+=window.launchVillagesStep,n.addEventListener("scroll",(function(t){let e=!1;n.scrollHeight-100<=n.clientHeight+n.scrollTop&&!e&&(e=!0,window.renderLaunchVillages())}))},window.renderTargetVillages=async()=>{for(let n=0;n<window.attackPlan.targetPool.length;n++){const t=window.attackPlan.targetPool[n];$(".target-list").append((0,i.targetItem)(t))}}},"./src/view/targetItem.tsx":(n,t,e)=>{e.r(t),e.d(t,{targetItem:()=>a});const a=n=>`\n    <div class="target-item">\n        <div onclick="targetItem.toggleTargetItem(this)" class="target-header">\n            <div><input onclick="targetItem.selectTargetItem(event)" type="radio" name="target"/></div>\n            <div class="indicator"><span >▶<span></div>\n            <div class="target-village-name">${n.village.name}(${n.village.coord.text})</div>\n            <div class="target-extras"><a class="add-village-booster"></a></div>\n            <div><a class="remove-target-btn"></a></div>\n        </div>\n        <div class="target-launchers">\n        </div>\n    </div>\n    `;window.targetItem={toggleTargetItem:n=>{$(n).parent().find(".target-launchers").toggle(),$(n).find(".indicator").toggleClass("indicator-open"),$(n).find("input").prop("checked",!0)},removeTargetItem:()=>{},selectTargetItem:n=>{n.stopPropagation(),$(n.target).parent().parent().parent().find(".target-launchers").toggle(),$(n.target).parent().parent().find(".indicator").toggleClass("indicator-open")}}}},t={};function e(a){var i=t[a];if(void 0!==i)return i.exports;var l=t[a]={exports:{}};return n[a](l,l.exports,e),l.exports}e.d=(n,t)=>{for(var a in t)e.o(t,a)&&!e.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:t[a]})},e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),e.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var a={};(()=>{e.r(a);var n=e("./src/core/Api.tsx"),t=e("./src/core/LaunchVillagesModel.tsx"),i=e("./src/core/PlayersModel.tsx"),l=e("./src/core/VillageModel.tsx"),o=e("./src/view/launchDialog.tsx");(async()=>{window.gameConfig=await(0,n.getServerConifg)(),window.unitConfig=await(0,n.getUnitConfig)(),window.Villages=await l.VillageModel.init(),window.Players=await i.PlayersModel.init(),window.LaunchVillages=await t.LaunchVillagesModel.init(),function(){let t=(0,n.loadPlans)();window.Dialog.show("launchDialog",(0,o.launchDialog)(t)),$(".popup_box_container").append('<div style="position: fixed;width: 100%;height: 100%;top:0;left:0;z-index:12001"></div>')}()})()})()})();